# Агрегатор опросов

Проект представляет собой веб-приложение, которое позволяет пользователям участвовать в различных опросах, а администраторам — управлять этими опросами. Основная цель проекта — предоставление удобного инструмента для сбора мнений и анализа данных через интерактивные опросы.


---
#### **ОПИСАНИЕ СТРУКТУРЫ КОНТЕЙНЕРИЗАЦИИ И НАСТРОЙКИ ОКРУЖЕНИЯ**

Контейнеризация приложения реализована с помощью инструмента Docker Compose, обеспечивающего удобную сборку и управление несколькими взаимосвязанными контейнерами. Для разработки использованы технологии Java Spring Boot, PostgreSQL и Maven. Приложение включает три основных компонента: базу данных (PostgreSQL), API-сервис и дополнительный сервис обработки запросов.

Основные компоненты инфраструктуры настроены следующим образом:

1.    **db** **(PostgreSQL)**:
* Используется стандартный образ PostgreSQL с добавлением необходимых настроек для подключения API-контейнера;
* Базовые параметры для соединения указаны в виде переменных среды (SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD).

2.    **api (Spring Boot)**
* Использует стандартизированный Dockerfile для сборки JAR-файлов с помощью Maven и последующего развертывания приложения на основе Liberica OpenJDK;
* Доступен по адресу: localhost:8080. Сервер ожидает соединение с базой данных, указанной в настройке SPRING_DATASOURCE_URL.

3.    **service (Spring Boot + Thymeleaf):**
* Аналогично строится с использованием стандартного Dockerfile и взаимодействует с основным API посредством адреса, указанного в переменной окружения SURVEYAGREGATOR_API.

  

Процесс развертывания проходит поэтапно благодаря механизму depends_on в файле docker-compose.yml, что обеспечивает правильную инициализацию всей системы:

1.    Сначала поднимается база данных (PostgreSQL). Это важно, поскольку основной API-сервис требует наличие рабочей базы данных;

2.    Затем разворачивается API-сервис, предоставляющий доступ к данным и бизнес-логике системы;

3.    Наконец, стартует вспомогательный сервис, отправляя запросы к основному API.


---
#### **АРХИТЕКТУРА ПРОЕКТА**

Проект представляет собой распределённую систему, состоящую из трёх ключевых компонентов: базы данных, API-сервиса и дополнительного сервиса. Каждый компонент играет свою роль в общей инфраструктуре и взаимодействует друг с другом по определённым правилам.

##### **Компоненты архитектуры**

1.    **База данных**
* Роль: Хранилище данных;
* Описание: Основное назначение — хранение результатов опросов, анкетирования и другой необходимой информации. Представляет собой классическое реляционное хранилище с таблицами и индексами, оптимизированными для быстрого чтения и записи данных;
* Технология: PostgreSQL.

![[docs/database.jpg]]

2.    **API‑сервис**
* **Роль:** Предоставление RESTful-интерфейсов для внешнего взаимодействия;
* **Описание:** Основная точка входа для всех клиентов, осуществляющих опросы и обработку данных. Реализован на фреймворке Spring Boot;
* **Технология:** Java, Spring Boot, Hibernate ORM.
* [Структура API проекта](https://systemsl.github.io/SurveyAgregator/)

3.    **Дополнительный сервис**
* **Роль:** Выполнение специфичных задач по агрегации и обработке данных;
* **Описание:** Этот компонент предназначен для выполнения специализированных задач, связанных с обработкой данных, получаемых от API-сервера;
* **Технология:** Java, Spring Boot, Thymeleaf.